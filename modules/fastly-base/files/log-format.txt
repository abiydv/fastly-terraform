{
    "timestamp":"%{begin:%Y-%m-%dT%H:%M:%S}t",
    "time_elapsed":%{time.elapsed.usec}V,
    "is_tls":%{if(req.is_ssl, "true", "false")}V,
    "client_ip":"%{req.http.Fastly-Client-IP}V",
    "client_latitude":%{if(client.geo.latitude!=999.9, client.geo.latitude, "null")}V,
    "client_longitude":%{if(client.geo.longitude!=999.9, client.geo.longitude, "null")}V,
    "client_city":%{if(client.geo.city, "%22"+json.escape(client.geo.city)+"%22", "null")}V,
    "client_country_code":%{if(client.geo.country_code, "%22"+json.escape(client.geo.country_code)+"%22", "null")}V,
    "request":"%{req.request}V",
    "host":"%{req.http.host}V",
    "origin":"%{req.http.backend}V",
    "url":"%{json.escape(req.url)}V",
    "ext":"%{json.escape(req.url.ext)}V",
    "request_referer":"%{json.escape(req.http.Referer)}V",
    "request_user_agent":"%{json.escape(req.http.User-Agent)}V",
    "request_accept_language":"%{json.escape(req.http.Accept-Language)}V",
    "request_accept_charset":"%{json.escape(req.http.Accept-Charset)}V",
    "cache_status":"%{regsub(fastly_info.state, "^(HIT-(SYNTH)|(HITPASS|HIT|MISS|PASS|ERROR|PIPE)).*", "\\2\\3") }V",
    "response_status":%{resp.status}V,
    "response_reason":%{if(resp.response, "%22"+json.escape(resp.response)+"%22", "null")}V,
    "fastly_pop":"%{json.escape(server.datacenter)}V",
    "fastly_server":"%{json.escape(server.hostname)}V"
}
